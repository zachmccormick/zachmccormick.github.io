<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Zach McCormick" />
        <meta name="copyright" content="Zach McCormick" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="mathematics, software development, Mathematics, " />

<meta property="og:title" content="Quant Interview Questions (part 3) "/>
<meta property="og:url" content="../../../../posts/2013/04/quant-interview-questions-part-3/" />
<meta property="og:description" content="I should be studying for a math test right now, but my brain needs a break from groups, subgroups, factor groups, rings, and fields (for my test on Wednesday) and from almost linear systems of differential equations and matrix exponentiation (for my test tomorrow morning), so here are the details …" />
<meta property="og:site_name" content="Thoughts and Discoveries of z11k" />
<meta property="og:article:author" content="Zach McCormick" />
<meta property="og:article:published_time" content="2013-04-01T00:00:00-04:00" />
<meta name="twitter:title" content="Quant Interview Questions (part 3) ">
<meta name="twitter:description" content="I should be studying for a math test right now, but my brain needs a break from groups, subgroups, factor groups, rings, and fields (for my test on Wednesday) and from almost linear systems of differential equations and matrix exponentiation (for my test tomorrow morning), so here are the details …">

        <title>Quant Interview Questions (part 3)  · Thoughts and Discoveries of z11k
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="../../../../theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="../../../../theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="../../../../theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="../../../../theme/css/custom.css" media="screen">
        <link href="http://z11k.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Thoughts and Discoveries of z11k - Full Atom Feed" />
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="../../../../"><span class=site-name>Thoughts and Discoveries of z11k</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="../../../..">Home</a></li>
                            <li ><a href="../../../../categories.html">Categories</a></li>
                            <li ><a href="../../../../tags.html">Tags</a></li>
                            <li ><a href="../../../../archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="../../../../search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="../../../../posts/2013/04/quant-interview-questions-part-3/"> Quant Interview Questions (part 3)  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <p>I should be studying for a math test right now, but my brain needs a break from groups, subgroups, factor groups,
rings, and fields (for my test on Wednesday) and from almost linear systems of differential equations and matrix
exponentiation (for my test tomorrow morning), so here are the details of another one of my interviews!</p>
<p>This one was definitely more computer science-y than the rest.</p>
<h3 id="question">Question</h3>
<p><strong>Implement a heap data structure with the following methods that run in the following amounts of time, prove
their runtime, and meet the extra specifications:</strong></p>
<ol>
<li>
<p><strong>Create heap in constant time</strong></p>
</li>
<li>
<p><strong>Add a new element in log(n) time</strong></p>
</li>
<li>
<p><strong>Retrieve the minimum element in constant time</strong></p>
</li>
<li>
<p><strong>Remove the minimum element in log(n) time</strong></p>
</li>
<li>
<p><strong>Data structure must be entirely immutable</strong></p>
</li>
<li>
<p><strong>Data structure must be a balanced binary heap</strong></p>
</li>
</ol>
<h3 id="answer">Answer</h3>
<p>I started out with no immediate idea how to do this in an immutable way, so I just went ahead and started out with
a static create() method (I did this in Java) that returned a HeapNode<T> object. It was obviously constant time.</p>
<p>I knew that I needed to make a min-heap, so I went ahead and started on the add() method. I either set the left-child
pointer to a new HeapNode containing the Object to be added if it didn’t have a left child, or I called add()
recursively on the left child. Likewise for the right — for now I chose randomly. I explained to the interviewer
that I knew it needed to be balanced, but I’d go back to that after I had the basic methods done first.</p>
<p>Retrieve in constant time was easy — obviously you are just returning the Object held by the top HeapNode.</p>
<p>Removing the minimum element in log(n) time was a bit harder. I remembered my algorithms/discrete structures
classes though, and knew you just needed to “bubble down” much like you do with add(), so I wrote the code
to move the furthest-down node to the top, then keep swapping it with lower elements until the heap property was
fulfilled. Again, I knew that it needed to be immutable and balanced, but I wanted a working heap first.</p>
<p>Now that I had the 3 main methods of my heap finished, I worked on the balanced part. I decided that each node should
keep track of the number of its left and right children. This works perfectly instead of my random approach from
before for add(), so I went ahead and changed this. As for remove(), I had to go back and change this to bubble
down to keep it balanced (remove the top node and replace it with the top node of the left or right subtree —
whichever has more elements, then swap recursively to maintain heap structure).</p>
<p>Now, about 45 minutes into the interview, I had the correct methods commented with very terse proofs of runtime,
but without the immutability property. After pondering aloud for a couple of minutes about it, the interviewer
gave me some sort of advice (I don’t remember exactly since the interview was over a month ago), and, due to
lack of time, I explained how I would implement the immutability:</p>
<h3 id="the-cool-part">“The Cool Part**”</h3>
<p>** denotes my personal opinion!</p>
<p>Think about a min heap with elements (from top to bottom and left to right) 12, 7, 9. To insert 8, you will
create a heap that looks like 12, 8, 9, 7 (where 12 is on the 0th row, 8 and 9 are on the 1st row, and 7 on the
2nd row). You might immediately think, “Oh, I need to swap the left-child pointer on 12 to 8, then point 8’s
left-child pointer to 7.” This is correct for a mutable heap, but I need to preserve the original heap.</p>
<p>To preserve both heaps, instead create a new HeapNode with 12 as the element. Next, decide if you are going to add
to the left or right subtree (you know the sizes). If you are going to add to the left, then set the right-child
pointer of the new HeapNode to the original HeapNode containing 9. Next, at 7, you decide if 8 will replace 7 or
descend — it is greater, so it replaces 7, so go ahead and create a new HeapNode with 8 inside, and point your
new HeapNode with 12’s left-child pointer to this new HeapNode with 8 inside. Finally, create a new HeapNode
with 7 inside, and point this new HeapNode with 8’s left-child pointer to this node. Return the new HeapNode
with 12 as the element, and you now have a pointer to the old, still-the-same heap, and the new, changed heap too.</p>
<p>Notice that we have changed NONE of the pointers in the original heap, thus we have achieved immutability. We
only created 3 new nodes (since for the right subtree, we just pointed the new root to the old right subtree),
which is still log(n) time for our heap.</p>
<p>You can continue this process of creating new branches in log(n) time, and while you may generate an ugly looking
diagram of pointers if you draw it out, you achieve immutability even with the runtime requirements.</p>
<p>I’ll leave the remove() method in an immutable way as an exercise to the reader!</p>
<h3 id="sad-news">Sad News</h3>
<p>I couldn’t quite meet all of these requirements in the 50 minutes or so I was allotted, so I unfortunately did not
get the job. I admit fully that I came to this interview less prepared than the other ones (the other 3 interviews,
I had studied at least 30 hours the week prior to each one; and for the whole set of interviews, I had probably studied
probability, combinatorics, data structures, and algorithms for about 200 hours from November through February).</p>
<p>I am still very interested in computational finance, and may apply to some of these firms again in the future
post-PhD, as I think it would be thrilling to work on “the street” with some of the greatest mathematicians
alive, but for now, I’ll focus more on my research!</p>
            
            
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2013-04-01T00:00:00-04:00">Apr 1, 2013</time>
            <h4>Category</h4>
            <a class="category-link" href="../../../../categories.html#mathematics-ref">Mathematics</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="../../../../tags.html#mathematics-ref">mathematics
                    <span>4</span>
</a></li>
                <li><a href="../../../../tags.html#software-development-ref">software development
                    <span>14</span>
</a></li>
            </ul>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>